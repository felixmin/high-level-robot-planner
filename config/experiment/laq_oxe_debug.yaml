# @package _global_

# Debug LAQ training on OXE oracle_sim dataset (small subset)
# For testing the OXE streaming pipeline

defaults:
  - /model@model: laq
  - /data@data: laq_oxe
  - /training@training: laq_optimizer
  - /cluster@cluster: local_dev

experiment:
  name: laq_oxe_debug
  description: "Debug LAQ on OXE oracle_sim (small subset)"

# Model
model:
  image_size: 256

# Data - small subset for debugging
data:
  dataset_name: language_table_blocktorelative_oracle_sim
  train_split: "train[:100]"  # Only 100 episodes
  val_split: "train[100:120]"  # 20 episodes for val
  offset: 10  # 1 second at 10Hz
  batch_size: 8
  shuffle_buffer: 100
  prefetch_buffer: 2
  return_metadata: true

# Training - quick test
training:
  epochs: 1
  max_steps: 50
  scheduler:
    type: none
  validation:
    check_interval: 25  # Validate at step 25 and 50
    limit_batches: 10
    strategies:
      basic:
        enabled: true
        visualize_train: true
        visualize_val: true
        visualize_per_bucket: false
      latent_transfer:
        enabled: true
        every_n_validations: 1
      clustering:
        enabled: false

logging:
  use_wandb: false
