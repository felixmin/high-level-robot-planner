# @package data.adapter

# Like `oxe_tf_gcs_fast`, but with higher total parallelism to keep *per-dataset*
# pipelines from collapsing to fully-serial operation when mixing 30+ datasets.

defaults:
  - oxe_tf_gcs_fast
  - _self_

tf:
  # Increase total parallelism so that after `parallelism_mode=sqrt` scaling,
  # each dataset still gets >1 worker for read/decode/resize.
  tfds_read:
    cycle_length: 32
    decode_parallelism: 8
    interleave_parallelism: 8

  pipeline:
    episode_concurrency: 16
    transform_parallelism: 32
    interleave_parallelism: 16

