# @package data

# Local workstation preset:
# - same 29-dataset train composition as oxe_local_spe0
# - tiny validation split to keep local validation memory bounded

defaults:
  - dataset: oxe_cluster_mirror_large_no_aloha_mimic_tiny_val
  - adapter: oxe_tf_low_ram
  - loader: oxe_streaming
  - preprocess: pair_256
  - _self_

backend: oxe_tf

adapter:
  tf:
    tfds_read:
      source: auto
    metadata:
      mode: full
    sampling:
      samples_per_episode: 0
    train:
      episode_queue_shuffle_buffer: 0
      intra_episode_sample_shuffle_buffer: 0
      global_stream_shuffle_buffer: 0
    prefetch:
      final_stream_buffer: 2
      per_dataset_stream_buffer: 0
      episode_queue_buffer: 0
    pipeline:
      episode_concurrency: 1
      transform_parallelism: 1
      interleave_parallelism: 1
    mixing:
      per_dataset_private_threadpool_size: 0
