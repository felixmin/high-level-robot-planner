# OpenX Dataset Configuration
# WebDataset format for frame pairs

name: openx
task: laq  # Task type: 'laq', 'foundation', or 'low_level'

# Data paths
train_shards: /dss/dssmcmlfs01/pn57pi/pn57pi-dss-0001/datasets/openx_frames/train_shard_{00000..00099}.tar
val_shards: /dss/dssmcmlfs01/pn57pi/pn57pi-dss-0001/datasets/openx_frames/val_shard_{00000..00009}.tar

# DataLoader settings
batch_size: 256
num_workers: 8
prefetch_factor: 4
pin_memory: true
persistent_workers: true

# Shuffle settings
shuffle_buffer: 1000
resample_shards: true  # Resample shards each epoch

# Image preprocessing
image_size: 224
normalize:
  mean: [0.485, 0.456, 0.406]  # ImageNet stats
  std: [0.229, 0.224, 0.225]

# Augmentations (training only)
augmentation:
  random_horizontal_flip: 0.5
  color_jitter:
    brightness: 0.1
    contrast: 0.1
    saturation: 0.1
    hue: 0.0
  random_erasing: 0.0  # Set to 0.1 for more robustness

